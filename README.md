# Велкам!

Данный скрипт представляет собой враппер (оболочку) над yt-dlp, написанную для Windows 10/11 с целью сохранения локально видео и аудио файлов. Всё, что необходимо, докачивает сама в процессе установки.

# Возможности
* Полный список поддерживаемых сайтов, с которых можно скачать можно посмотреть [здесь](https://ytdl-org.github.io/youtube-dl/supportedsites.html)
* Автоматически использует nodpi для обхода "устаревания оборудования". Если вы уже пользуетесь им - будет использовать запущенный экземпляр. Если вы не из России - вам нет необходимости.
* Есть возможности для видео - выбрать качество сохранения файлов (оригинальное разрешение) или в наборе фиксированных - 1080, 720 или 360.
* Автоматическое конвертирование файлов в mp4, если качается в каком либо "нестандартном" формате.
  
# Установка
Создать какую-либо директорию на любом диске, где свободно ~400мб, перенести туда файл installVideoDownloader.cmd и запустить его там. Важно, что бы в путях не было пробелов! В процессе установки будут загружены:
* [nodpi](https://github.com/GVCoder09/NoDPI/) - средство лечения "устаревшего оборудования"
* [ffmpeg](https://github.com/BtbN/FFmpeg-Builds/) - конвертатор аудио и аудиофайлов.
* [deno](https://github.com/denoland/deno/) - позволяет скачивать с сайтов, на которых нет прямых ссылок на загрузку файлов
* [yt-dlp](https://github.com/yt-dlp/yt-dlp/) - основной компонент системы.

В процессе установки будет задан вопрос, не хотите ли установить Powershell 7. можете продолжить, можете установить. Если сомневаетесь - то просто продолжайте. (используйте клавиши C или N для пропуска, Y - для установки. Если выбрали "продолжить c установкой" - то установить не забудьте (далее-делее....)
После завершения, у вас на рабочем столе появится значок "Video Downloader", с помощью которого и производится запуск программы.

# Работа с программой
Управление программы - консольное (да, мне так нравится), то есть для действия необходимо нажать обозначенную кнопку на клавиатуре. 
Доступные команды
* V - Качаем видеофайл
* A - Качаем аудио (или извлекаем аудиодорожку из видеофайла)
* Q - выбор скачиваемого разрешения файла - исходное/1080/720/360. Если такого разрешения нет, то берётся ближайший по качеству. Например, при выбранном 360, с твича скачается 420р.
* C - выбор цветового оформления программы. 3 схемы - цветная, чёрно-красно-белая, и монохроматическая.
* L - показать вывод yt-dlp при загрузке. Включайте, если кажется, что "оно зависло" - и убедитесь, что ничего не зависает, а, скажем, процесс конвертации занимает массу времени. Программа не может зависнуть, она может задуматься. Если прервёте её - ну что ж, ваш выбор
* M - все сайты отдают в разных форматах. Если вам не нужна головная боль в дальнейшем, "как сконвертировать/отправить" - используйте формат mp4. Сейчас это самый поддерживаемый формат, и посмотреть на компе/проекторе/телефоне - его проще всего.
* G - переключение языка приложения. Только русский или английский. Определяется, исходя из того, какая локаль у вас установлена.
* U - если, как обычно, ВСЁ сломалось и ничего не качается, нажмите. Должно починится.
* H - отобразить историю развится приложения
* X - выход из программы.

При скачивании аудио или видео, вам отобразится экран, в котором в первой строке будет сказанно, что и в каком качестве вы качаете. Всё, что необходимо для скачивания - это вставить из буфера обмена ссылку на то, что вы хотите скачать, и нажать Enter (Которая кнопка). После чего остаётся просто ждать. Если выводится название того, что вы качаете и продолжительность - то скачивание по факту началось. По завершении, издаётся короткий "блямс", говорящий, что процесс завершён. Если ничего не нажимать, то через 10 секунд вывод стирается, и предлагается внести новую ссылку.
Для возврата в меню - просто нажать Enter.

Опции переключаются при нажатии клавиш. Текущее значение отображается выделением цветом (если возможно) и скобками.
# Для пароноиков
* https://www.virustotal.com/gui/url/99eeb081aa3e07753d0cd44087a6ac828ce048e41056e82f19809d6e09f027a0?nocache=1
* https://www.virustotal.com/gui/file-analysis/NjVhMjA3Y2YzZTViOTYyMzZhZTE3MGM5MGIyODUyYmU6MTc2NjQ5ODIzMA==

# ЧАВО
* Программа "пищит" - проверьте раскладку клавиатуры. Должна быть либо RUS, либо ENG.
* Если инсталлятор "ничего не делает", то проверьте - там, откуда вы его запускаете, есть в путях пробелы.
* "Я вставил ссылку, а оно не качает" - вы уже скачали ранее. Удалите ранее скачанное для повторной скачки. 
* Скачивания плейлистов нет. Мне не нужно, если очень нужно - то доделаю. может быть.
* Настройки сохраняются при коректном заверчешии программы (выходе из меню). 
* Данный исходник содержит в себе
* * Сообственно сам скрипт "программы"
  * Иконку приложения
  * Скрипт для powershell 7, который скачивает файлы с прогрессом. Если не установить, прогресса загрузки программ не будет, просто ждите в этом случае.
* Используются только компоненты, доступные для закачки с GitHub
* Иногда, рядом с файлом появляется файлик ".json". Это артифакт - его можно смело удалять.
* Скорость закачки ограниченна значением 2,9Мб/с - так как при больших значениях, можно быть забаненным на самом популярном сайте на сутки. Поверьте, неприятно.
* Да, в программе есть пасхалки. Их там минимум 4.
